function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,c){return t&&_defineProperties(e.prototype,t),c&&_defineProperties(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0k1G":function(e,t,c){"use strict";c.r(t),c.d(t,"ProjectModule",(function(){return K}));var n,r=c("ofXK"),o=c("tyNb"),i=c("yPpY"),a=c("wd/R"),s=c("16ox"),l=c("fXoL"),b=c("sYmb"),d=c("sAgM"),u=c("o4Rc"),p=c("JqCM"),f=c("4+AT"),h=c("3Pt+"),m=c("hzby"),g=((n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=new Date(e);return a(t).add(1,"days").toDate()}}]),e}()).\u0275fac=function(e){return new(e||n)},n.\u0275pipe=l.Nb({name:"stringTodate",type:n,pure:!0}),n),v=["projectform"];function S(e,t){1&e&&(l.Tb(0,"div"),l.Cc(1,"Project Name is required"),l.Sb())}function j(e,t){if(1&e&&(l.Tb(0,"div",29),l.Ac(1,S,2,0,"div",30),l.Tb(2,"div",31),l.Cc(3,"Project Name is required (minimum 2 characters)"),l.Sb(),l.Sb()),2&e){l.dc();var c=l.sc(8);l.Bb(1),l.jc("ngIf",c.errors.required),l.Bb(1),l.jc("hidden",!c.hasError("minlength"))}}function y(e,t){1&e&&(l.Tb(0,"div"),l.Cc(1),l.ec(2,"translate"),l.Sb()),2&e&&(l.Bb(1),l.Dc(l.fc(2,1,"lblManagerRequired")))}function T(e,t){if(1&e&&(l.Tb(0,"div",29),l.Ac(1,y,3,3,"div",30),l.Sb()),2&e){l.dc();var c=l.sc(38);l.Bb(1),l.jc("ngIf",c.errors.required)}}function C(e,t){1&e&&(l.Tb(0,"button",32),l.Cc(1),l.ec(2,"translate"),l.Sb()),2&e&&(l.Bb(1),l.Dc(l.fc(2,1,"btnAdd")))}function k(e,t){1&e&&(l.Tb(0,"button",32),l.Cc(1),l.ec(2,"translate"),l.Sb()),2&e&&(l.Bb(1),l.Dc(l.fc(2,1,"btnUpdate")))}var M,D=function(e){return{"is-invalid":e}},P=function(){return{dateInputFormat:"YYYY-MM-DD"}},B=function(){return{standalone:!0}},E=((M=function(){function e(t,c,n,r,o,a,l){_classCallCheck(this,e),this.translate=t,this.router=c,this.userService=n,this.modalService=r,this.projectService=o,this.spinner=a,this.interactionService=l,this.lang="en",this.projectModal=new i.a("",!1,"","",new s.a("","","",""),"",""),this.selectedEmp=new s.a("","","",""),this.empList=[],this.displayUpdateBtn=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.router.snapshot.params&&(this.lang=this.router.snapshot.params.lang,this.translate.setDefaultLang(this.lang),this.translate.use(this.lang))}},{key:"updateSelectedProject",value:function(e){console.log("inside add project"+e),this.projectModal=Object.assign({},e),this.displayUpdateBtn=!0}},{key:"onSubmit",value:function(){var e=this;this.spinner.show(),this.projectModal.projectId?(this.displayUpdateBtn=!1,this.projectService.updateProject(this.projectModal).subscribe((function(t){e.getProjects(),e.redirectAfterSave("Project updated successfully",(function(){e.reset()}),"Success"),e.reset(),e.spinner.hide()}))):this.projectService.addProject(this.projectModal).subscribe((function(t){e.getProjects(),e.redirectAfterSave("Project Added successfully",(function(){e.reset()}),"Success"),e.spinner.hide()}))}},{key:"getProjects",value:function(){var e=this;this.projectService.getProjects().subscribe((function(t){console.log("project Data - "+JSON.stringify(t)),e.interactionService.updateProjectList(t),e.spinner.hide()}),(function(t){e.spinner.hide(),e.redirectAfterSave(t.error.message,(function(){}),"Error")}))}},{key:"changeStartDate",value:function(e,t){this.projectModal.endDate=a(e).add(1,"days").format("yyyy-MM-dd")}},{key:"searchEmployee",value:function(){var e=this;this.spinner.show(),this.userService.getUserList().subscribe((function(t){e.empList=t||[],e.spinner.hide(),e.modelRef=e.modalService.openSearchPopUp(e.empList,"Search",(function(t){e.selectedEmployee(t)}),"Select")}))}},{key:"reset",value:function(){this.projectModal=new i.a(null,!1,null,null,new s.a(null,null,null,null),null,null),this.projectform.submitted=!1}},{key:"selectedEmployee",value:function(e){this.modelRef.hide(),this.projectModal.selectedEmployee=e.selectedItem}},{key:"redirectAfterSave",value:function(e,t,c){this.modalService.confirmOK(e,t,c)}}]),e}()).\u0275fac=function(e){return new(e||M)(l.Ob(b.d),l.Ob(o.a),l.Ob(d.c),l.Ob(u.a),l.Ob(d.b),l.Ob(p.c),l.Ob(f.a))},M.\u0275cmp=l.Ib({type:M,selectors:[["app-add-project"]],viewQuery:function(e,t){var c;1&e&&l.Gc(v,!0),2&e&&l.rc(c=l.cc())&&(t.projectform=c.first)},decls:51,vars:53,consts:[[1,"container","mt-3"],["name","form","novalidate","",3,"ngSubmit"],["projectform","ngForm"],[1,"form-group"],["for","project"],["type","text","name","project","required","","minlength","2","maxlength","100",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["project","ngModel"],["class","error",4,"ngIf"],[1,"form-group","row"],[1,"col-form-label","col-sm-2","col-md-2"],[1,"checkbox","col-sm-10","col-md-3"],["type","checkbox","name","setStartData",3,"ngModel","ngModelChange"],[1,"col-xs-6","col-md-4"],["type","text","name","startDate","bsDatepicker","","onkeydown","return false","autocomplete","off","required","",1,"form-control",3,"ngModel","placeholder","bsConfig","ngModelChange"],[1,"col-xs-6","col-md-3"],["type","text","name","endDate","bsDatepicker","","onkeydown","return false","autocomplete","off","required","",1,"form-control",3,"ngModel","placeholder","bsConfig","minDate","ngModelChange"],["for","project",1,"col-form-label","col-sm-2","col-md-2"],[1,"col-sm-9","col-md-9"],["type","range","id","formControlRange",1,"custom-range",3,"ngModel","ngModelOptions","min","max","ngModelChange"],[1,"col-sm-1","col-md-1"],["for","pwd",1,"col-form-label","col-sm-2"],[1,"col-sm-8"],["type","text","placeholder","Enter manager","name","selectedEmployee","required","",1,"form-control",3,"ngModel","ngClass","readonly","ngModelChange"],["selectedEmployee","ngModel"],[1,"col-sm-2"],["type","button",1,"btn","btn-info","float-right",3,"click"],[1,"col-md-12"],["type","button","id","reset",1,"btn","btn-secondary","float-right","m-1",3,"click"],["type","submit","class","btn btn-primary float-right m-1","id","add",4,"ngIf"],[1,"error"],[4,"ngIf"],[3,"hidden"],["type","submit","id","add",1,"btn","btn-primary","float-right","m-1"]],template:function(e,t){if(1&e){var c=l.Ub();l.Tb(0,"div",0),l.Tb(1,"form",1,2),l.bc("ngSubmit",(function(){return l.uc(c),l.sc(2).form.valid&&t.onSubmit()})),l.Tb(3,"div",3),l.Tb(4,"label",4),l.Cc(5),l.ec(6,"translate"),l.Sb(),l.Tb(7,"input",5,6),l.bc("ngModelChange",(function(e){return t.projectModal.project=e})),l.Sb(),l.Ac(9,j,4,2,"div",7),l.Sb(),l.Tb(10,"div",8),l.Pb(11,"label",9),l.Tb(12,"div",10),l.Tb(13,"label"),l.Tb(14,"input",11),l.bc("ngModelChange",(function(e){return t.projectModal.setDate=e})),l.Sb(),l.Cc(15),l.ec(16,"translate"),l.Sb(),l.Sb(),l.Tb(17,"div",12),l.Tb(18,"input",13),l.bc("ngModelChange",(function(e){return t.projectModal.startDate=e})),l.ec(19,"translate"),l.Sb(),l.Sb(),l.Tb(20,"div",14),l.Tb(21,"input",15),l.bc("ngModelChange",(function(e){return t.projectModal.endDate=e})),l.ec(22,"translate"),l.ec(23,"stringTodate"),l.Sb(),l.Sb(),l.Sb(),l.Tb(24,"div",8),l.Tb(25,"label",16),l.Cc(26),l.ec(27,"translate"),l.Sb(),l.Tb(28,"div",17),l.Tb(29,"input",18),l.bc("ngModelChange",(function(e){return t.projectModal.priority=e})),l.Sb(),l.Sb(),l.Tb(30,"div",19),l.Cc(31),l.Sb(),l.Sb(),l.Tb(32,"div",8),l.Tb(33,"label",20),l.Cc(34),l.ec(35,"translate"),l.Sb(),l.Tb(36,"div",21),l.Tb(37,"input",22,23),l.bc("ngModelChange",(function(e){return t.projectModal&&t.projectModal.selectedEmployee&&(t.projectModal.selectedEmployee.firstName=e)})),l.Sb(),l.Ac(39,T,2,1,"div",7),l.Sb(),l.Tb(40,"div",24),l.Tb(41,"button",25),l.bc("click",(function(){return t.searchEmployee()})),l.Cc(42),l.ec(43,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Tb(44,"div",8),l.Tb(45,"div",26),l.Tb(46,"button",27),l.bc("click",(function(){return t.reset()})),l.Cc(47),l.ec(48,"translate"),l.Sb(),l.Ac(49,C,3,3,"button",28),l.Ac(50,k,3,3,"button",28),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&e){var n=l.sc(2),r=l.sc(8),o=l.sc(38);l.Bb(5),l.Dc(l.fc(6,28,"lblProject")),l.Bb(2),l.jc("ngModel",t.projectModal.project)("ngClass",l.nc(46,D,n.submitted&&r.invalid)),l.Bb(2),l.jc("ngIf",n.submitted&&r.invalid),l.Bb(5),l.jc("ngModel",t.projectModal.setDate),l.Bb(1),l.Ec(" ",l.fc(16,30,"lblSetStartandEndDate"),""),l.Bb(3),l.kc("placeholder",l.fc(19,32,"lblStartDate")),l.jc("ngModel",t.projectModal.startDate)("bsConfig",l.mc(48,P)),l.Bb(3),l.kc("placeholder",l.fc(22,34,"lblEndDate")),l.jc("ngModel",t.projectModal.endDate)("bsConfig",l.mc(49,P))("minDate",l.fc(23,36,t.projectModal.startDate)),l.Bb(5),l.Ec("",l.fc(27,38,"lblPriority"),":"),l.Bb(3),l.jc("ngModel",t.projectModal.priority)("ngModelOptions",l.mc(50,B))("min",0)("max",30),l.Bb(2),l.Ec(" ",t.projectModal.priority," "),l.Bb(3),l.Ec("",l.fc(35,40,"lblManager"),":"),l.Bb(3),l.jc("ngModel",t.projectModal&&t.projectModal.selectedEmployee&&t.projectModal.selectedEmployee.firstName)("ngClass",l.nc(51,D,n.submitted&&o.invalid))("readonly",!0),l.Bb(2),l.jc("ngIf",n.submitted&&o.invalid),l.Bb(3),l.Dc(l.fc(43,42,"btnSearch")),l.Bb(5),l.Dc(l.fc(48,44,"btnReset")),l.Bb(2),l.jc("ngIf",!t.displayUpdateBtn),l.Bb(1),l.jc("ngIf",t.displayUpdateBtn)}},directives:[h.p,h.i,h.j,h.b,h.o,h.e,h.d,h.h,h.k,r.j,r.l,h.a,m.b,m.a,h.m],pipes:[b.c,g],styles:[""]}),M),w=c("HcBl");function O(e,t){1&e&&(l.Tb(0,"div"),l.Tb(1,"div"),l.Tb(2,"p",7),l.Cc(3,"No projects available"),l.Sb(),l.Sb(),l.Sb())}function L(e,t){if(1&e){var c=l.Ub();l.Tb(0,"div",8),l.Tb(1,"div",9),l.Tb(2,"div",10),l.Tb(3,"input",11,12),l.bc("keyup",(function(){return 0}))("ngModelChange",(function(e){return l.uc(c),l.dc().searchName=e})),l.ec(5,"translate"),l.Sb(),l.Sb(),l.Tb(6,"div",10),l.Tb(7,"label"),l.Cc(8),l.ec(9,"translate"),l.Sb(),l.Tb(10,"button",13),l.bc("click",(function(){return l.uc(c),l.dc().sort("startDate")})),l.Cc(11),l.ec(12,"translate"),l.Sb(),l.Tb(13,"button",14),l.bc("click",(function(){return l.uc(c),l.dc().sort("endDate")})),l.Cc(14),l.ec(15,"translate"),l.Sb(),l.Tb(16,"button",15),l.bc("click",(function(){return l.uc(c),l.dc().sort("priority")})),l.Cc(17),l.ec(18,"translate"),l.Sb(),l.Tb(19,"button",16),l.bc("click",(function(){return l.uc(c),l.dc().sort("completedTasks")})),l.Cc(20),l.ec(21,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&e){var n=l.dc();l.Bb(3),l.kc("placeholder",l.fc(5,7,"btnSearch")),l.jc("ngModel",n.searchName),l.Bb(5),l.Ec("",l.fc(9,9,"lblSortBy"),":"),l.Bb(3),l.Dc(l.fc(12,11,"lblStartDate")),l.Bb(3),l.Dc(l.fc(15,13,"lblEndDate")),l.Bb(3),l.Dc(l.fc(18,15,"lblPriority")),l.Bb(3),l.Dc(l.fc(21,17,"lblCompleted"))}}function A(e,t){if(1&e){var c=l.Ub();l.Tb(0,"tr"),l.Tb(1,"td"),l.Cc(2),l.Sb(),l.Tb(3,"td"),l.Cc(4),l.Sb(),l.Tb(5,"td"),l.Cc(6),l.Sb(),l.Tb(7,"td"),l.Cc(8),l.Sb(),l.Tb(9,"td"),l.Cc(10),l.Sb(),l.Tb(11,"td"),l.Cc(12),l.Sb(),l.Tb(13,"td"),l.Tb(14,"button",17),l.bc("click",(function(){l.uc(c);var e=t.$implicit;return l.dc().deleteUser(e.projectId)})),l.Tb(15,"i",18),l.Cc(16,"Delete"),l.Sb(),l.Sb(),l.Tb(17,"button",19),l.bc("click",(function(){l.uc(c);var e=t.$implicit;return l.dc().updateUser(e)})),l.Cc(18,"Update"),l.Sb(),l.Sb(),l.Sb()}if(2&e){var n=t.$implicit;l.Bb(2),l.Dc(n.project),l.Bb(2),l.Dc(n.noOfTasks),l.Bb(2),l.Dc(n.completedTasks),l.Bb(2),l.Dc(n.startDate),l.Bb(2),l.Dc(n.endDate),l.Bb(2),l.Dc(n.priority)}}var I,N,_,U,x,q=((I=function(){function e(t,c,n,r){_classCallCheck(this,e),this.projectService=t,this.spinner=c,this.modalService=n,this.interactionService=r,this.projectList=[],this.deleteEvent=new l.n,this.updateEvent=new l.n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.spinner.show(),this.getProject(),this.interactionService.projectList$.subscribe((function(t){console.log("project List - "+JSON.stringify(t)),e.projectList=t}))}},{key:"sort",value:function(e){this.isDesc=!this.isDesc;var t=this.isDesc?1:-1;this.projectList.sort((function(c,n){return c[e]<n[e]?-1*t:c[e]>n[e]?1*t:0}))}},{key:"getProject",value:function(){var e=this;this.projectService.getProjects().subscribe((function(t){console.log("project Data - "+JSON.stringify(t)),e.projectList=t,e.projectLength=t.length,e.calculateNoOfTaskandCompletedTask(),console.log("project length - "+JSON.stringify(e.projectLength)),e.spinner.hide()}),(function(t){e.spinner.hide(),e.redirectAfterSave(t.error.message,(function(){}),"Error")}))}},{key:"deleteUser",value:function(e){this.deleteEvent.emit(e)}},{key:"updateUser",value:function(e){this.updateEvent.emit(e)}},{key:"redirectAfterSave",value:function(e,t,c){this.modalService.confirmOK(e,t,c)}},{key:"calculateNoOfTaskandCompletedTask",value:function(){this.projectList&&this.projectList.length>0&&this.projectList.forEach((function(e){e&&e.tasks&&(e.noOfTasks=e.tasks.length,e.completedTasks=e.tasks.filter((function(e){return 0==e.status})).length)}))}}]),e}()).\u0275fac=function(e){return new(e||I)(l.Ob(d.b),l.Ob(p.c),l.Ob(u.a),l.Ob(f.a))},I.\u0275cmp=l.Ib({type:I,selectors:[["app-project-list"]],outputs:{deleteEvent:"deleteEvent",updateEvent:"updateEvent"},decls:27,vars:6,consts:[[1,"style1"],[4,"ngIf","ngIfElse"],["other_content",""],[1,"panel-body"],["datatable","",1,"table","table-hover","table-sm"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"h4"],[1,"container"],[1,"row"],[1,"col-md-6","col-sm-6"],["type","text",1,"form-control",3,"placeholder","ngModel","keyup","ngModelChange"],["search",""],["type","submit","id","fname",1,"btn","btn-primary","m-2",3,"click"],["type","submit","id","lname",1,"btn","btn-info","m-2",3,"click"],["type","submit","id","empid",1,"btn","btn-primary","m-2",3,"click"],["type","submit","id","empid",1,"btn","btn-info","m-2",3,"click"],[1,"btn","btn-primary","m-2",3,"click"],[1,"fa","fa-futboll-0"],["data-toggle","modal","data-target","#myModal",1,"btn","btn-info","m-2",3,"click"]],template:function(e,t){if(1&e&&(l.Pb(0,"hr",0),l.Ac(1,O,4,0,"div",1),l.Ac(2,L,22,19,"ng-template",null,2,l.Bc),l.Pb(4,"hr",0),l.Tb(5,"div",3),l.Tb(6,"table",4),l.Tb(7,"thead",5),l.Tb(8,"tr"),l.Tb(9,"th"),l.Cc(10,"Project Name"),l.Sb(),l.Tb(11,"th"),l.Cc(12,"No Of Tasks"),l.Sb(),l.Tb(13,"th"),l.Cc(14,"Completed Tasks"),l.Sb(),l.Tb(15,"th"),l.Cc(16,"Start Date"),l.Sb(),l.Tb(17,"th"),l.Cc(18,"End Date"),l.Sb(),l.Tb(19,"th"),l.Cc(20,"Priority"),l.Sb(),l.Tb(21,"th"),l.Cc(22,"Action"),l.Sb(),l.Sb(),l.Sb(),l.Tb(23,"tbody"),l.Ac(24,A,19,6,"tr",6),l.ec(25,"searchpipe"),l.Sb(),l.Pb(26,"br"),l.Sb(),l.Sb()),2&e){var c=l.sc(3);l.Bb(1),l.jc("ngIf",0==t.projectLength)("ngIfElse",c),l.Bb(23),l.jc("ngForOf",l.gc(25,3,t.projectList,t.searchName))}},directives:[r.l,r.k,h.b,h.h,h.k],pipes:[w.a,b.c],styles:[""]}),I),J=[{path:"",component:(N=function(){function e(t,c,n,r){_classCallCheck(this,e),this.projectService=t,this.modalService=c,this.spinner=n,this.interactionService=r}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"deleteProject",value:function(e){var t=this;this.spinner.show(),this.projectService.deleteProject(e).subscribe((function(e){t.getProjects(),t.redirectAfterSave("Project Deleted successfully",(function(){}),"Success"),t.spinner.hide(),console.log("Deleted Successfeully "+e)}))}},{key:"getProjects",value:function(){var e=this;this.projectService.getProjects().subscribe((function(t){console.log("project Data - "+JSON.stringify(t)),e.interactionService.updateProjectList(t),e.spinner.hide()}),(function(t){e.spinner.hide(),e.redirectAfterSave(t.error.message,(function(){}),"Error")}))}},{key:"updateProject",value:function(e){console.log(e),this.child.updateSelectedProject(e)}},{key:"redirectAfterSave",value:function(e,t,c){this.modalService.confirmOK(e,t,c)}}]),e}(),N.\u0275fac=function(e){return new(e||N)(l.Ob(d.b),l.Ob(u.a),l.Ob(p.c),l.Ob(f.a))},N.\u0275cmp=l.Ib({type:N,selectors:[["app-project"]],viewQuery:function(e,t){var c;1&e&&l.Gc(E,!0),2&e&&l.rc(c=l.cc())&&(t.child=c.first)},decls:5,vars:0,consts:[[3,"updateEvent","deleteEvent"],["bdColor","rgba(51, 51, 51, 0.8)","size","default","type","ball-spin-clockwise"],[2,"color","white"]],template:function(e,t){1&e&&(l.Pb(0,"app-add-project"),l.Tb(1,"app-project-list",0),l.bc("updateEvent",(function(e){return t.updateProject(e)}))("deleteEvent",(function(e){return t.deleteProject(e)})),l.Sb(),l.Tb(2,"ngx-spinner",1),l.Tb(3,"p",2),l.Cc(4,"Please Wait. "),l.Sb(),l.Sb())},directives:[E,q,p.a],styles:[""]}),N)}],R=((U=function e(){_classCallCheck(this,e)}).\u0275mod=l.Mb({type:U}),U.\u0275inj=l.Lb({factory:function(e){return new(e||U)},imports:[[o.e.forChild(J)],o.e]}),U),Y=((_=function e(){_classCallCheck(this,e)}).\u0275mod=l.Mb({type:_}),_.\u0275inj=l.Lb({factory:function(e){return new(e||_)},imports:[[]]}),_),F=c("PCNd"),K=((x=function e(){_classCallCheck(this,e)}).\u0275mod=l.Mb({type:x}),x.\u0275inj=l.Lb({factory:function(e){return new(e||x)},imports:[[r.c,h.c,R,b.b,m.c.forRoot(),Y,F.a,p.b]]}),x)}}]);