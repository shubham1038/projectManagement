(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"jQ+e":function(t,e,c){"use strict";c.r(e),c.d(e,"ViewTaskModule",(function(){return m}));var s=c("ofXK"),n=c("tyNb"),a=c("fXoL"),i=c("sAgM"),r=c("o4Rc"),b=c("JqCM"),o=c("sYmb");function l(t,e){if(1&t){const t=a.Ub();a.Tb(0,"button",6),a.bc("click",(function(){a.uc(t);const e=a.dc().$implicit;return a.dc().edit(e.taskId)})),a.Tb(1,"i",7),a.Cc(2),a.ec(3,"translate"),a.Sb(),a.Sb()}2&t&&(a.Bb(2),a.Dc(a.fc(3,1,"btnEdit")))}function d(t,e){if(1&t){const t=a.Ub();a.Tb(0,"button",8),a.bc("click",(function(){a.uc(t);const e=a.dc().$implicit;return a.dc().edit(e.taskId)})),a.Cc(1),a.ec(2,"translate"),a.Sb()}2&t&&(a.Bb(1),a.Dc(a.fc(2,1,"btnView")))}function u(t,e){if(1&t){const t=a.Ub();a.Tb(0,"button",8),a.bc("click",(function(){a.uc(t);const e=a.dc().$implicit;return a.dc().endTask(e.taskId)})),a.Cc(1),a.ec(2,"translate"),a.Sb()}2&t&&(a.Bb(1),a.Dc(a.fc(2,1,"btnEndTask")))}function h(t,e){if(1&t&&(a.Tb(0,"tr"),a.Tb(1,"td"),a.Cc(2),a.Sb(),a.Tb(3,"td"),a.Cc(4),a.Sb(),a.Tb(5,"td"),a.Cc(6),a.Sb(),a.Tb(7,"td"),a.Cc(8),a.ec(9,"date"),a.Sb(),a.Tb(10,"td"),a.Cc(11),a.ec(12,"date"),a.Sb(),a.Tb(13,"td"),a.Ac(14,l,4,3,"button",4),a.Ac(15,d,3,3,"button",5),a.Ac(16,u,3,3,"button",5),a.Sb(),a.Sb()),2&t){const t=e.$implicit;a.Bb(2),a.Dc(t.task),a.Bb(2),a.Dc(null==t||null==t.selectedParentTask?null:t.selectedParentTask.parentTask),a.Bb(2),a.Dc(t.priority),a.Bb(2),a.Dc(a.gc(9,8,t.startDate,"yyyy-MM-dd")),a.Bb(3),a.Dc(a.gc(12,11,t.endDate,"yyyy-MM-dd")),a.Bb(3),a.jc("ngIf",0!=t.status),a.Bb(1),a.jc("ngIf",0==t.status),a.Bb(1),a.jc("ngIf",0!=t.status)}}let p=(()=>{class t{constructor(t,e,c){this.translate=t,this.router=e,this.route=c,this.lang="en",this.taskDetails=[],this.endTaskEvent=new a.n,this.router.snapshot.params&&(this.lang=this.router.snapshot.params.lang,this.translate.setDefaultLang(this.lang),this.translate.use(this.lang))}ngOnInit(){}edit(t){this.route.navigate([this.lang+"/addTask/"+t])}endTask(t){console.log("taskId---"+t),this.endTaskEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(o.d),a.Ob(n.a),a.Ob(n.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-task-details"]],inputs:{taskDetails:"taskDetails"},outputs:{endTaskEvent:"endTaskEvent"},decls:24,vars:16,consts:[[1,"panel-body"],["datatable","",1,"table","table-hover","table-sm"],[1,"thead-light"],[4,"ngFor","ngForOf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-primary","data-toggle","modal","data-target","#myModal",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-futboll-0"],["data-toggle","modal","data-target","#myModal",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(a.Tb(0,"div",0),a.Tb(1,"table",1),a.Tb(2,"thead",2),a.Tb(3,"tr"),a.Tb(4,"th"),a.Cc(5),a.ec(6,"translate"),a.Sb(),a.Tb(7,"th"),a.Cc(8),a.ec(9,"translate"),a.Sb(),a.Tb(10,"th"),a.Cc(11),a.ec(12,"translate"),a.Sb(),a.Tb(13,"th"),a.Cc(14),a.ec(15,"translate"),a.Sb(),a.Tb(16,"th"),a.Cc(17),a.ec(18,"translate"),a.Sb(),a.Tb(19,"th"),a.Cc(20,"Action"),a.Sb(),a.Pb(21,"th"),a.Sb(),a.Sb(),a.Tb(22,"tbody"),a.Ac(23,h,17,14,"tr",3),a.Sb(),a.Sb(),a.Sb()),2&t&&(a.Bb(5),a.Dc(a.fc(6,6,"lblTask")),a.Bb(3),a.Dc(a.fc(9,8,"lblParentTask")),a.Bb(3),a.Dc(a.fc(12,10,"lblPriority")),a.Bb(3),a.Dc(a.fc(15,12,"lblStartDate")),a.Bb(3),a.Dc(a.fc(18,14,"lblEndDate")),a.Bb(6),a.jc("ngForOf",e.taskDetails))},directives:[s.k,s.l],pipes:[o.c,s.e],styles:[""]}),t})();const f=[{path:"",component:(()=>{class t{constructor(t,e,c,s){this.viewTaskService=t,this.projectService=e,this.modalService=c,this.spinner=s,this.tasks=[],this.projectsInfo=[],this.desc=!1,this.selectedProject=null}ngOnInit(){this.getTasks()}getTasks(){this.spinner.show(),this.viewTaskService.getTasks().subscribe(t=>{console.log(t),this.tasks=t,this.spinner.hide()},t=>{this.spinner.hide(),this.redirectAfterSave(t.error.message,()=>{},"Error")})}sort(t){this.desc=!this.desc;let e=this.desc?1:-1;this.tasks.sort((function(c,s){return c[t]<s[t]?-1*e:c[t]>s[t]?1*e:0}))}searchProject(){this.getProject()}getProject(){this.spinner.show(),this.projectService.getProjects().subscribe(t=>{console.log("response ---"+JSON.stringify(t)),this.projectsInfo=t,this.spinner.hide(),this.modelRef=this.modalService.openProjectSearchPopUp(this.projectsInfo,"Search Project",t=>{this.getSelectedProject(t)},"Select")},t=>{console.log("error")})}endTask(t){console.log("taskId :"+t),this.viewTaskService.updateTaskStatus(t).subscribe(t=>{this.redirectAfterSave("Task ended successfully",()=>{},"Success"),this.getTasks()})}getSelectedProject(t){this.modelRef.hide(),this.selectedProject=t.selectedItem,this.tasks=t.selectedItem.tasks}redirectAfterSave(t,e,c){this.modalService.confirmOK(t,e,c)}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(i.d),a.Ob(i.b),a.Ob(r.a),a.Ob(b.c))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-view-task"]],decls:35,vars:27,consts:[[1,"container"],[1,"form-group","row"],[1,"col-md-1","col-sm-1","col-xs-1"],[1,"mt-2"],[1,"col-md-3","col-sm-9","col-xs-9"],["type","text","name","project",1,"form-control","mt-2",3,"placeholder","value","readonly"],["type","button",1,"btn","btn-info","mt-2",3,"click"],[1,"col-md-7","col-sm-12","col-xs-12"],[1,"ml-2"],["type","submit","id","fname",1,"btn","btn-secondary","m-2",3,"click"],["type","submit","id","lname",1,"btn","btn-secondary","m-2",3,"click"],["type","submit","id","empid",1,"btn","btn-secondary","m-2",3,"click"],[3,"taskDetails","endTaskEvent"],["bdColor","rgba(51, 51, 51, 0.8)","size","default","type","ball-spin-clockwise"],[2,"color","white"]],template:function(t,e){1&t&&(a.Tb(0,"div",0),a.Tb(1,"div",0),a.Tb(2,"div",1),a.Tb(3,"div",2),a.Tb(4,"label",3),a.Cc(5),a.ec(6,"translate"),a.Sb(),a.Sb(),a.Tb(7,"div",4),a.Pb(8,"input",5),a.ec(9,"translate"),a.Sb(),a.Tb(10,"div",2),a.Tb(11,"button",6),a.bc("click",(function(){return e.searchProject()})),a.Cc(12),a.ec(13,"translate"),a.Sb(),a.Sb(),a.Tb(14,"div",7),a.Tb(15,"label",8),a.Cc(16),a.ec(17,"translate"),a.Sb(),a.Tb(18,"button",9),a.bc("click",(function(){return e.sort("startDate")})),a.Cc(19),a.ec(20,"translate"),a.Sb(),a.Tb(21,"button",10),a.bc("click",(function(){return e.sort("endDate")})),a.Cc(22),a.ec(23,"translate"),a.Sb(),a.Tb(24,"button",11),a.bc("click",(function(){return e.sort("priority")})),a.Cc(25),a.ec(26,"translate"),a.Sb(),a.Tb(27,"button",11),a.bc("click",(function(){return e.sort("status")})),a.Cc(28),a.ec(29,"translate"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(30,"div"),a.Tb(31,"app-task-details",12),a.bc("endTaskEvent",(function(t){return e.endTask(t)})),a.Sb(),a.Sb(),a.Tb(32,"ngx-spinner",13),a.Tb(33,"p",14),a.Cc(34,"Please Wait. "),a.Sb(),a.Sb()),2&t&&(a.Bb(5),a.Ec("",a.fc(6,11,"lblProject"),":"),a.Bb(3),a.kc("placeholder",a.fc(9,13,"lblSearchProject")),a.jc("value",null==e.selectedProject?null:e.selectedProject.project)("readonly",!0),a.Bb(4),a.Dc(a.fc(13,15,"btnSearch")),a.Bb(4),a.Ec("",a.fc(17,17,"lblSortBy"),":"),a.Bb(3),a.Dc(a.fc(20,19,"btnStartDate")),a.Bb(3),a.Dc(a.fc(23,21,"btnEndDate")),a.Bb(3),a.Dc(a.fc(26,23,"btnPriority")),a.Bb(3),a.Dc(a.fc(29,25,"btnCompleted")),a.Bb(3),a.jc("taskDetails",e.tasks))},directives:[p,b.a],pipes:[o.c],styles:[""]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[n.e.forChild(f)],n.e]}),t})();var T=c("PCNd"),S=c("K3ix");let m=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[s.c,o.b,k,S.c.forRoot(),T.a,b.b]]}),t})()}}]);