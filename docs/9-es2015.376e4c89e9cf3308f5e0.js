(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0k1G":function(e,t,c){"use strict";c.r(t),c.d(t,"ProjectModule",(function(){return x}));var r=c("ofXK"),n=c("tyNb"),o=c("yPpY"),i=c("wd/R"),s=c("16ox"),a=c("fXoL"),l=c("sYmb"),b=c("sAgM"),d=c("o4Rc"),p=c("JqCM"),u=c("4+AT"),h=c("3Pt+"),f=c("hzby");let m=(()=>{class e{transform(e){let t=new Date(e);return i(t).add(1,"days").toDate()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Nb({name:"stringTodate",type:e,pure:!0}),e})();const g=["projectform"];function S(e,t){1&e&&(a.Tb(0,"div"),a.Cc(1,"Project Name is required"),a.Sb())}function j(e,t){if(1&e&&(a.Tb(0,"div",29),a.Ac(1,S,2,0,"div",30),a.Tb(2,"div",31),a.Cc(3,"Project Name is required (minimum 2 characters)"),a.Sb(),a.Sb()),2&e){a.dc();const e=a.sc(8);a.Bb(1),a.jc("ngIf",e.errors.required),a.Bb(1),a.jc("hidden",!e.hasError("minlength"))}}function v(e,t){1&e&&(a.Tb(0,"div"),a.Cc(1),a.ec(2,"translate"),a.Sb()),2&e&&(a.Bb(1),a.Dc(a.fc(2,1,"lblManagerRequired")))}function y(e,t){if(1&e&&(a.Tb(0,"div",29),a.Ac(1,v,3,3,"div",30),a.Sb()),2&e){a.dc();const e=a.sc(38);a.Bb(1),a.jc("ngIf",e.errors.required)}}function T(e,t){1&e&&(a.Tb(0,"button",32),a.Cc(1),a.ec(2,"translate"),a.Sb()),2&e&&(a.Bb(1),a.Dc(a.fc(2,1,"btnAdd")))}function M(e,t){1&e&&(a.Tb(0,"button",32),a.Cc(1),a.ec(2,"translate"),a.Sb()),2&e&&(a.Bb(1),a.Dc(a.fc(2,1,"btnUpdate")))}const C=function(e){return{"is-invalid":e}},D=function(){return{dateInputFormat:"YYYY-MM-DD"}},k=function(){return{standalone:!0}};let B=(()=>{class e{constructor(e,t,c,r,n,i,a){this.translate=e,this.router=t,this.userService=c,this.modalService=r,this.projectService=n,this.spinner=i,this.interactionService=a,this.lang="en",this.projectModal=new o.a("",!1,"","",new s.a("","","",""),"",""),this.selectedEmp=new s.a("","","",""),this.empList=[],this.displayUpdateBtn=!1}ngOnInit(){this.router.snapshot.params&&(this.lang=this.router.snapshot.params.lang,this.translate.setDefaultLang(this.lang),this.translate.use(this.lang))}updateSelectedProject(e){console.log("inside add project"+e),this.projectModal=Object.assign({},e),this.displayUpdateBtn=!0}onSubmit(){this.spinner.show(),this.projectModal.projectId?(this.displayUpdateBtn=!1,this.projectService.updateProject(this.projectModal).subscribe(e=>{this.getProjects(),this.redirectAfterSave("Project updated successfully",()=>{this.reset()},"Success"),this.reset(),this.spinner.hide()})):this.projectService.addProject(this.projectModal).subscribe(e=>{this.getProjects(),this.redirectAfterSave("Project Added successfully",()=>{this.reset()},"Success"),this.spinner.hide()})}getProjects(){this.projectService.getProjects().subscribe(e=>{console.log("project Data - "+JSON.stringify(e)),this.interactionService.updateProjectList(e),this.spinner.hide()},e=>{this.spinner.hide(),this.redirectAfterSave(e.error.message,()=>{},"Error")})}changeStartDate(e,t){this.projectModal.endDate=i(e).add(1,"days").format("yyyy-MM-dd")}searchEmployee(){this.spinner.show(),this.userService.getUserList().subscribe(e=>{this.empList=e||[],this.spinner.hide(),this.modelRef=this.modalService.openSearchPopUp(this.empList,"Search",e=>{this.selectedEmployee(e)},"Select")})}reset(){this.projectModal=new o.a(null,!1,null,null,new s.a(null,null,null,null),null,null),this.projectform.submitted=!1}selectedEmployee(e){this.modelRef.hide(),this.projectModal.selectedEmployee=e.selectedItem}redirectAfterSave(e,t,c){this.modalService.confirmOK(e,t,c)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(l.d),a.Ob(n.a),a.Ob(b.c),a.Ob(d.a),a.Ob(b.b),a.Ob(p.c),a.Ob(u.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-add-project"]],viewQuery:function(e,t){var c;1&e&&a.Gc(g,!0),2&e&&a.rc(c=a.cc())&&(t.projectform=c.first)},decls:51,vars:53,consts:[[1,"container","mt-3"],["name","form","novalidate","",3,"ngSubmit"],["projectform","ngForm"],[1,"form-group"],["for","project"],["type","text","name","project","required","","minlength","2","maxlength","100",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["project","ngModel"],["class","error",4,"ngIf"],[1,"form-group","row"],[1,"col-form-label","col-sm-2","col-md-2"],[1,"checkbox","col-sm-10","col-md-3"],["type","checkbox","name","setStartData",3,"ngModel","ngModelChange"],[1,"col-xs-6","col-md-4"],["type","text","name","startDate","bsDatepicker","","onkeydown","return false","autocomplete","off","required","",1,"form-control",3,"ngModel","placeholder","bsConfig","ngModelChange"],[1,"col-xs-6","col-md-3"],["type","text","name","endDate","bsDatepicker","","onkeydown","return false","autocomplete","off","required","",1,"form-control",3,"ngModel","placeholder","bsConfig","minDate","ngModelChange"],["for","project",1,"col-form-label","col-sm-2","col-md-2"],[1,"col-sm-9","col-md-9"],["type","range","id","formControlRange",1,"custom-range",3,"ngModel","ngModelOptions","min","max","ngModelChange"],[1,"col-sm-1","col-md-1"],["for","pwd",1,"col-form-label","col-sm-2"],[1,"col-sm-8"],["type","text","placeholder","Enter manager","name","selectedEmployee","required","",1,"form-control",3,"ngModel","ngClass","readonly","ngModelChange"],["selectedEmployee","ngModel"],[1,"col-sm-2"],["type","button",1,"btn","btn-info","float-right",3,"click"],[1,"col-md-12"],["type","button","id","reset",1,"btn","btn-secondary","float-right","m-1",3,"click"],["type","submit","class","btn btn-primary float-right m-1","id","add",4,"ngIf"],[1,"error"],[4,"ngIf"],[3,"hidden"],["type","submit","id","add",1,"btn","btn-primary","float-right","m-1"]],template:function(e,t){if(1&e){const e=a.Ub();a.Tb(0,"div",0),a.Tb(1,"form",1,2),a.bc("ngSubmit",(function(){return a.uc(e),a.sc(2).form.valid&&t.onSubmit()})),a.Tb(3,"div",3),a.Tb(4,"label",4),a.Cc(5),a.ec(6,"translate"),a.Sb(),a.Tb(7,"input",5,6),a.bc("ngModelChange",(function(e){return t.projectModal.project=e})),a.Sb(),a.Ac(9,j,4,2,"div",7),a.Sb(),a.Tb(10,"div",8),a.Pb(11,"label",9),a.Tb(12,"div",10),a.Tb(13,"label"),a.Tb(14,"input",11),a.bc("ngModelChange",(function(e){return t.projectModal.setDate=e})),a.Sb(),a.Cc(15),a.ec(16,"translate"),a.Sb(),a.Sb(),a.Tb(17,"div",12),a.Tb(18,"input",13),a.bc("ngModelChange",(function(e){return t.projectModal.startDate=e})),a.ec(19,"translate"),a.Sb(),a.Sb(),a.Tb(20,"div",14),a.Tb(21,"input",15),a.bc("ngModelChange",(function(e){return t.projectModal.endDate=e})),a.ec(22,"translate"),a.ec(23,"stringTodate"),a.Sb(),a.Sb(),a.Sb(),a.Tb(24,"div",8),a.Tb(25,"label",16),a.Cc(26),a.ec(27,"translate"),a.Sb(),a.Tb(28,"div",17),a.Tb(29,"input",18),a.bc("ngModelChange",(function(e){return t.projectModal.priority=e})),a.Sb(),a.Sb(),a.Tb(30,"div",19),a.Cc(31),a.Sb(),a.Sb(),a.Tb(32,"div",8),a.Tb(33,"label",20),a.Cc(34),a.ec(35,"translate"),a.Sb(),a.Tb(36,"div",21),a.Tb(37,"input",22,23),a.bc("ngModelChange",(function(e){return t.projectModal&&t.projectModal.selectedEmployee&&(t.projectModal.selectedEmployee.firstName=e)})),a.Sb(),a.Ac(39,y,2,1,"div",7),a.Sb(),a.Tb(40,"div",24),a.Tb(41,"button",25),a.bc("click",(function(){return t.searchEmployee()})),a.Cc(42),a.ec(43,"translate"),a.Sb(),a.Sb(),a.Sb(),a.Tb(44,"div",8),a.Tb(45,"div",26),a.Tb(46,"button",27),a.bc("click",(function(){return t.reset()})),a.Cc(47),a.ec(48,"translate"),a.Sb(),a.Ac(49,T,3,3,"button",28),a.Ac(50,M,3,3,"button",28),a.Sb(),a.Sb(),a.Sb(),a.Sb()}if(2&e){const e=a.sc(2),c=a.sc(8),r=a.sc(38);a.Bb(5),a.Dc(a.fc(6,28,"lblProject")),a.Bb(2),a.jc("ngModel",t.projectModal.project)("ngClass",a.nc(46,C,e.submitted&&c.invalid)),a.Bb(2),a.jc("ngIf",e.submitted&&c.invalid),a.Bb(5),a.jc("ngModel",t.projectModal.setDate),a.Bb(1),a.Ec(" ",a.fc(16,30,"lblSetStartandEndDate"),""),a.Bb(3),a.kc("placeholder",a.fc(19,32,"lblStartDate")),a.jc("ngModel",t.projectModal.startDate)("bsConfig",a.mc(48,D)),a.Bb(3),a.kc("placeholder",a.fc(22,34,"lblEndDate")),a.jc("ngModel",t.projectModal.endDate)("bsConfig",a.mc(49,D))("minDate",a.fc(23,36,t.projectModal.startDate)),a.Bb(5),a.Ec("",a.fc(27,38,"lblPriority"),":"),a.Bb(3),a.jc("ngModel",t.projectModal.priority)("ngModelOptions",a.mc(50,k))("min",0)("max",30),a.Bb(2),a.Ec(" ",t.projectModal.priority," "),a.Bb(3),a.Ec("",a.fc(35,40,"lblManager"),":"),a.Bb(3),a.jc("ngModel",t.projectModal&&t.projectModal.selectedEmployee&&t.projectModal.selectedEmployee.firstName)("ngClass",a.nc(51,C,e.submitted&&r.invalid))("readonly",!0),a.Bb(2),a.jc("ngIf",e.submitted&&r.invalid),a.Bb(3),a.Dc(a.fc(43,42,"btnSearch")),a.Bb(5),a.Dc(a.fc(48,44,"btnReset")),a.Bb(2),a.jc("ngIf",!t.displayUpdateBtn),a.Bb(1),a.jc("ngIf",t.displayUpdateBtn)}},directives:[h.p,h.i,h.j,h.b,h.o,h.e,h.d,h.h,h.k,r.j,r.l,h.a,f.b,f.a,h.m],pipes:[l.c,m],styles:[""]}),e})();var P=c("HcBl");function E(e,t){1&e&&(a.Tb(0,"div"),a.Tb(1,"div"),a.Tb(2,"p",7),a.Cc(3,"No projects available"),a.Sb(),a.Sb(),a.Sb())}function O(e,t){if(1&e){const e=a.Ub();a.Tb(0,"div",8),a.Tb(1,"div",9),a.Tb(2,"div",10),a.Tb(3,"input",11,12),a.bc("keyup",(function(){return 0}))("ngModelChange",(function(t){return a.uc(e),a.dc().searchName=t})),a.ec(5,"translate"),a.Sb(),a.Sb(),a.Tb(6,"div",10),a.Tb(7,"label"),a.Cc(8),a.ec(9,"translate"),a.Sb(),a.Tb(10,"button",13),a.bc("click",(function(){return a.uc(e),a.dc().sort("startDate")})),a.Cc(11),a.ec(12,"translate"),a.Sb(),a.Tb(13,"button",14),a.bc("click",(function(){return a.uc(e),a.dc().sort("endDate")})),a.Cc(14),a.ec(15,"translate"),a.Sb(),a.Tb(16,"button",15),a.bc("click",(function(){return a.uc(e),a.dc().sort("priority")})),a.Cc(17),a.ec(18,"translate"),a.Sb(),a.Tb(19,"button",16),a.bc("click",(function(){return a.uc(e),a.dc().sort("completedTasks")})),a.Cc(20),a.ec(21,"translate"),a.Sb(),a.Sb(),a.Sb(),a.Sb()}if(2&e){const e=a.dc();a.Bb(3),a.kc("placeholder",a.fc(5,7,"btnSearch")),a.jc("ngModel",e.searchName),a.Bb(5),a.Ec("",a.fc(9,9,"lblSortBy"),":"),a.Bb(3),a.Dc(a.fc(12,11,"lblStartDate")),a.Bb(3),a.Dc(a.fc(15,13,"lblEndDate")),a.Bb(3),a.Dc(a.fc(18,15,"lblPriority")),a.Bb(3),a.Dc(a.fc(21,17,"lblCompleted"))}}function w(e,t){if(1&e){const e=a.Ub();a.Tb(0,"tr"),a.Tb(1,"td"),a.Cc(2),a.Sb(),a.Tb(3,"td"),a.Cc(4),a.Sb(),a.Tb(5,"td"),a.Cc(6),a.Sb(),a.Tb(7,"td"),a.Cc(8),a.Sb(),a.Tb(9,"td"),a.Cc(10),a.Sb(),a.Tb(11,"td"),a.Cc(12),a.Sb(),a.Tb(13,"td"),a.Tb(14,"button",17),a.bc("click",(function(){a.uc(e);const c=t.$implicit;return a.dc().deleteUser(c.projectId)})),a.Tb(15,"i",18),a.Cc(16,"Delete"),a.Sb(),a.Sb(),a.Tb(17,"button",19),a.bc("click",(function(){a.uc(e);const c=t.$implicit;return a.dc().updateUser(c)})),a.Cc(18,"Update"),a.Sb(),a.Sb(),a.Sb()}if(2&e){const e=t.$implicit;a.Bb(2),a.Dc(e.project),a.Bb(2),a.Dc(e.noOfTasks),a.Bb(2),a.Dc(e.completedTasks),a.Bb(2),a.Dc(e.startDate),a.Bb(2),a.Dc(e.endDate),a.Bb(2),a.Dc(e.priority)}}let L=(()=>{class e{constructor(e,t,c,r){this.projectService=e,this.spinner=t,this.modalService=c,this.interactionService=r,this.projectList=[],this.deleteEvent=new a.n,this.updateEvent=new a.n}ngOnInit(){this.spinner.show(),this.getProject(),this.interactionService.projectList$.subscribe(e=>{console.log("project List - "+JSON.stringify(e)),this.projectList=e})}sort(e){this.isDesc=!this.isDesc;let t=this.isDesc?1:-1;this.projectList.sort((function(c,r){return c[e]<r[e]?-1*t:c[e]>r[e]?1*t:0}))}getProject(){this.projectService.getProjects().subscribe(e=>{console.log("project Data - "+JSON.stringify(e)),this.projectList=e,this.projectLength=e.length,this.calculateNoOfTaskandCompletedTask(),console.log("project length - "+JSON.stringify(this.projectLength)),this.spinner.hide()},e=>{this.spinner.hide(),this.redirectAfterSave(e.error.message,()=>{},"Error")})}deleteUser(e){this.deleteEvent.emit(e)}updateUser(e){this.updateEvent.emit(e)}redirectAfterSave(e,t,c){this.modalService.confirmOK(e,t,c)}calculateNoOfTaskandCompletedTask(){this.projectList&&this.projectList.length>0&&this.projectList.forEach(e=>{e&&e.tasks&&(e.noOfTasks=e.tasks.length,e.completedTasks=e.tasks.filter(e=>0==e.status).length)})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(b.b),a.Ob(p.c),a.Ob(d.a),a.Ob(u.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-project-list"]],outputs:{deleteEvent:"deleteEvent",updateEvent:"updateEvent"},decls:27,vars:6,consts:[[1,"style1"],[4,"ngIf","ngIfElse"],["other_content",""],[1,"panel-body"],["datatable","",1,"table","table-hover","table-sm"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"h4"],[1,"container"],[1,"row"],[1,"col-md-6","col-sm-6"],["type","text",1,"form-control",3,"placeholder","ngModel","keyup","ngModelChange"],["search",""],["type","submit","id","fname",1,"btn","btn-primary","m-2",3,"click"],["type","submit","id","lname",1,"btn","btn-info","m-2",3,"click"],["type","submit","id","empid",1,"btn","btn-primary","m-2",3,"click"],["type","submit","id","empid",1,"btn","btn-info","m-2",3,"click"],[1,"btn","btn-primary","m-2",3,"click"],[1,"fa","fa-futboll-0"],["data-toggle","modal","data-target","#myModal",1,"btn","btn-info","m-2",3,"click"]],template:function(e,t){if(1&e&&(a.Pb(0,"hr",0),a.Ac(1,E,4,0,"div",1),a.Ac(2,O,22,19,"ng-template",null,2,a.Bc),a.Pb(4,"hr",0),a.Tb(5,"div",3),a.Tb(6,"table",4),a.Tb(7,"thead",5),a.Tb(8,"tr"),a.Tb(9,"th"),a.Cc(10,"Project Name"),a.Sb(),a.Tb(11,"th"),a.Cc(12,"No Of Tasks"),a.Sb(),a.Tb(13,"th"),a.Cc(14,"Completed Tasks"),a.Sb(),a.Tb(15,"th"),a.Cc(16,"Start Date"),a.Sb(),a.Tb(17,"th"),a.Cc(18,"End Date"),a.Sb(),a.Tb(19,"th"),a.Cc(20,"Priority"),a.Sb(),a.Tb(21,"th"),a.Cc(22,"Action"),a.Sb(),a.Sb(),a.Sb(),a.Tb(23,"tbody"),a.Ac(24,w,19,6,"tr",6),a.ec(25,"searchpipe"),a.Sb(),a.Pb(26,"br"),a.Sb(),a.Sb()),2&e){const e=a.sc(3);a.Bb(1),a.jc("ngIf",0==t.projectLength)("ngIfElse",e),a.Bb(23),a.jc("ngForOf",a.gc(25,3,t.projectList,t.searchName))}},directives:[r.l,r.k,h.b,h.h,h.k],pipes:[P.a,l.c],styles:[""]}),e})();const A=[{path:"",component:(()=>{class e{constructor(e,t,c,r){this.projectService=e,this.modalService=t,this.spinner=c,this.interactionService=r}ngOnInit(){}deleteProject(e){this.spinner.show(),this.projectService.deleteProject(e).subscribe(e=>{this.getProjects(),this.redirectAfterSave("Project Deleted successfully",()=>{},"Success"),this.spinner.hide(),console.log("Deleted Successfeully "+e)})}getProjects(){this.projectService.getProjects().subscribe(e=>{console.log("project Data - "+JSON.stringify(e)),this.interactionService.updateProjectList(e),this.spinner.hide()},e=>{this.spinner.hide(),this.redirectAfterSave(e.error.message,()=>{},"Error")})}updateProject(e){console.log(e),this.child.updateSelectedProject(e)}redirectAfterSave(e,t,c){this.modalService.confirmOK(e,t,c)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(b.b),a.Ob(d.a),a.Ob(p.c),a.Ob(u.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-project"]],viewQuery:function(e,t){var c;1&e&&a.Gc(B,!0),2&e&&a.rc(c=a.cc())&&(t.child=c.first)},decls:5,vars:0,consts:[[3,"updateEvent","deleteEvent"],["bdColor","rgba(51, 51, 51, 0.8)","size","default","type","ball-spin-clockwise"],[2,"color","white"]],template:function(e,t){1&e&&(a.Pb(0,"app-add-project"),a.Tb(1,"app-project-list",0),a.bc("updateEvent",(function(e){return t.updateProject(e)}))("deleteEvent",(function(e){return t.deleteProject(e)})),a.Sb(),a.Tb(2,"ngx-spinner",1),a.Tb(3,"p",2),a.Cc(4,"Please Wait. "),a.Sb(),a.Sb())},directives:[B,L,p.a],styles:[""]}),e})()}];let I=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[n.e.forChild(A)],n.e]}),e})(),N=(()=>{let e=class{};return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[]]}),e})();var U=c("PCNd");let x=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[r.c,h.c,I,l.b,f.c.forRoot(),N,U.a,p.b]]}),e})()}}]);