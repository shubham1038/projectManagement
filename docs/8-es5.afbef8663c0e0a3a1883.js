function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8jsn":function(e,t,a){"use strict";a.r(t),a.d(t,"AddTaskModule",(function(){return L}));var n=a("ofXK"),s=a("3Pt+"),c=a("tyNb"),r=a("yPpY"),l=a("16ox"),i=function e(){_classCallCheck(this,e),this.selectedProject=new r.a("",!1,"","",new l.a("","","",""),"",""),this.setParent=!1,this.selectedParentTask=new o,this.selectedEmployee=new l.a("","","",""),this.status=1},o=function e(){_classCallCheck(this,e)},d=a("fXoL"),b=a("sYmb"),u=a("sAgM"),f=a("o4Rc"),k=a("JqCM"),h=a("hzby"),p=["taskForm"];function m(e,t){1&e&&(d.Tb(0,"div"),d.Cc(1,"Project is required"),d.Sb())}function v(e,t){if(1&e&&(d.Tb(0,"div",44),d.Ac(1,m,2,0,"div",45),d.Sb()),2&e){d.dc();var a=d.sc(9);d.Bb(1),d.jc("ngIf",a.errors.required)}}function g(e,t){1&e&&(d.Tb(0,"div"),d.Cc(1,"Task Name is required"),d.Sb())}function T(e,t){if(1&e&&(d.Tb(0,"div",44),d.Ac(1,g,2,0,"div",45),d.Tb(2,"div",46),d.Cc(3,"Task Name is required (minimum 2 characters)"),d.Sb(),d.Sb()),2&e){d.dc();var a=d.sc(22);d.Bb(1),d.jc("ngIf",a.errors.required),d.Bb(1),d.jc("hidden",!a.hasError("minlength"))}}function S(e,t){1&e&&(d.Tb(0,"div"),d.Cc(1,"Parent Task is required"),d.Sb())}function M(e,t){if(1&e&&(d.Tb(0,"div",44),d.Ac(1,S,2,0,"div",45),d.Sb()),2&e){d.dc();var a=d.sc(45);d.Bb(1),d.jc("ngIf",a.errors.required)}}function y(e,t){if(1&e){var a=d.Ub();d.Tb(0,"button",47),d.bc("click",(function(){return d.uc(a),d.dc().clearParentTask()})),d.Cc(1),d.ec(2,"translate"),d.Sb()}if(2&e){var n=d.dc();d.jc("disabled",n.taskModal.setParent),d.Bb(1),d.Ec("",d.fc(2,2,"btnClear")," ")}}function P(e,t){1&e&&(d.Tb(0,"div"),d.Cc(1,"Start Date is required"),d.Sb())}function C(e,t){if(1&e&&(d.Tb(0,"div",44),d.Ac(1,P,2,0,"div",45),d.Sb()),2&e){d.dc();var a=d.sc(60);d.Bb(1),d.jc("ngIf",a.errors.required)}}function j(e,t){1&e&&(d.Tb(0,"div"),d.Cc(1,"End Date is required"),d.Sb())}function B(e,t){if(1&e&&(d.Tb(0,"div",44),d.Ac(1,j,2,0,"div",45),d.Sb()),2&e){d.dc();var a=d.sc(68);d.Bb(1),d.jc("ngIf",a.errors.required)}}function I(e,t){1&e&&(d.Tb(0,"div"),d.Cc(1,"User is required"),d.Sb())}function w(e,t){if(1&e&&(d.Tb(0,"div",44),d.Ac(1,I,2,0,"div",45),d.Sb()),2&e){d.dc();var a=d.sc(77);d.Bb(1),d.jc("ngIf",a.errors.required)}}function E(e,t){if(1&e&&(d.Tb(0,"button",48),d.Cc(1),d.ec(2,"translate"),d.Sb()),2&e){var a=d.dc();d.jc("disabled",0==a.taskModal.status),d.Bb(1),d.Dc(d.fc(2,2,"btnAdd"))}}function D(e,t){if(1&e&&(d.Tb(0,"button",49),d.Cc(1),d.ec(2,"translate"),d.Sb()),2&e){var a=d.dc();d.jc("disabled",0==a.taskModal.status),d.Bb(1),d.Dc(d.fc(2,2,"btnUpdate"))}}var A,q,x,O=function(e){return{"is-invalid":e}},U=function(){return{dateInputFormat:"YYYY-MM-DD"}},_=((A=function(){function e(t,a,n,s,c,r,l,o,d){_classCallCheck(this,e),this.translate=t,this.router=a,this.taskService=n,this.projectService=s,this.modalService=c,this.parentTaskService=r,this.userService=l,this.spinner=o,this.route=d,this.lang="en",this.taskModal=new i,this.selectedTaskModal=new i,this.router.snapshot.params&&(this.lang=this.router.snapshot.params.lang,this.translate.setDefaultLang(this.lang),this.translate.use(this.lang))}return _createClass(e,[{key:"ngOnInit",value:function(){this.spinner.show(),this.router.snapshot.params&&(this.selectedTaskId=this.router.snapshot.params.taskId,this.selectedTaskId&&this.fetchSelectedTaskById()),this.spinner.hide()}},{key:"fetchSelectedTaskById",value:function(){var e=this;this.taskService.getTaskById(this.selectedTaskId).subscribe((function(t){e.selectedTaskModal=t,console.log(t),e.fetchSelectedProject(t.projectId)}))}},{key:"fetchSelectedProject",value:function(e){var t=this;this.projectService.getProjectsById(e).subscribe((function(e){t.selectedTaskModal.selectedProject=e,t.taskModal=t.selectedTaskModal}))}},{key:"onSubmit",value:function(){this.taskModal&&(this.taskModal.setParent?this.saveParentTask():this.saveTask())}},{key:"saveParentTask",value:function(){var e=this;this.spinner.show(),this.parentTaskService.saveParentTask({parentTask:this.taskModal.task}).subscribe((function(t){e.redirectAfterSave("Parent Task Saved successfully",(function(){e.reset()}),"Success"),e.spinner.hide()}),(function(t){e.spinner.hide(),e.redirectAfterSave("Error occured..",(function(){}),"Error")}))}},{key:"saveTask",value:function(){var e=this;this.spinner.show(),this.taskModal&&this.taskModal.taskId?this.taskService.updateTask(this.taskModal).subscribe((function(t){e.redirectAfterSave("Task Updated successfully",(function(){e.reset()}),"Success"),e.spinner.hide()}),(function(t){e.spinner.hide(),e.redirectAfterSave("Error occured ",(function(){}),"Error")})):this.taskService.saveTask(this.taskModal).subscribe((function(t){e.redirectAfterSave("Task Saved successfully",(function(){e.reset(),e.route.navigate([e.lang+"/viewTask/"])}),"Success"),e.spinner.hide()}),(function(t){e.spinner.hide(),e.redirectAfterSave("Error occured ",(function(){}),"Error")}))}},{key:"redirectAfterSave",value:function(e,t,a){this.modalService.confirmOK(e,t,a)}},{key:"searchProject",value:function(){var e=this;this.spinner.show(),this.projectService.getProjects().subscribe((function(t){e.modelRef=e.modalService.openProjectSearchPopUp(t,"Search Project",(function(t){e.searchedProject(t)}),"Select"),e.spinner.hide()}))}},{key:"changeStartDate",value:function(e,t){}},{key:"searchEmployee",value:function(){var e=this;this.spinner.show(),this.userService.getUserList().subscribe((function(t){e.modelRef=e.modalService.openSearchPopUp(t,"Search Employee",(function(t){e.selectedEmployee(t)}),"Select"),e.spinner.hide()}))}},{key:"selectedEmployee",value:function(e){this.taskModal.selectedEmployee=e.selectedItem,this.modelRef.hide()}},{key:"clearParentTask",value:function(){this.taskModal.selectedParentTask=(new i).selectedParentTask}},{key:"searchedProject",value:function(e){this.taskModal.selectedProject=e.selectedItem,this.modelRef.hide()}},{key:"searchParentTask",value:function(){var e=this;this.spinner.show(),this.parentTaskService.getParentTasks().subscribe((function(t){e.modelRef=e.modalService.openParentTaskSearchPopUp(t,"Search Parent Task",(function(t){e.selectedParentTask(t)}),"Select"),e.spinner.hide()}))}},{key:"selectedParentTask",value:function(e){this.taskModal.selectedParentTask=e.selectedItem,this.taskModal.selectedParentTask.parentId=e.selectedItem.parentId,this.modelRef.hide()}},{key:"reset",value:function(){this.taskForm.submitted=!1,this.taskModal=new i}}]),e}()).\u0275fac=function(e){return new(e||A)(d.Ob(b.d),d.Ob(c.a),d.Ob(u.d),d.Ob(u.b),d.Ob(f.a),d.Ob(u.a),d.Ob(u.c),d.Ob(k.c),d.Ob(c.b))},A.\u0275cmp=d.Ib({type:A,selectors:[["app-add-task"]],viewQuery:function(e,t){var a;1&e&&d.Gc(p,!0),2&e&&d.rc(a=d.cc())&&(t.taskForm=a.first)},decls:94,vars:104,consts:[[1,"container","mt-3"],["name","form","novalidate","",3,"ngSubmit"],["taskForm","ngForm"],[1,"form-group","row"],["for","pwd",1,"control-label","col-sm-2"],[1,"col-sm-8"],["type","text","name","project",1,"form-control",3,"placeholder","ngModel","ngClass","readonly","required","ngModelChange"],["project","ngModel"],["class","error",4,"ngIf"],[1,"col-sm-2","m-0"],["type","button",1,"btn","btn-info","pull-right","m-1",3,"disabled","click"],["for","task",1,"control-label","col-sm-2"],[1,"col-sm-10"],["type","text","name","task","minlength","2","maxlength","199",1,"form-control",3,"ngModel","ngClass","required","ngModelChange"],["task","ngModel"],[1,"control-label","col-sm-2","col-md-2"],[1,"checkbox","col-sm-10","col-md-3"],["type","checkbox","name","setParent",3,"disabled","ngModel","ngModelChange"],["for","priority",1,"control-label","col-sm-2","col-md-2"],[1,"col-sm-9","col-md-9"],["type","range","name","priority",1,"custom-range",3,"ngModel","value","min","max","ngModelChange"],[1,"col-sm-1","col-md-1"],["for","pwd",1,"control-label","col-md-2","col-sm-2"],[1,"col-md-7","col-sm-7"],["type","text","name","selectedParentTask",1,"form-control",3,"placeholder","ngModel","ngClass","readonly","ngModelChange"],["selectedParentTask","ngModel"],[1,"col-md-3","col-sm-3","m-0"],[1,"row","ml-2"],["type","button",1,"btn","btn-info","pull-right",3,"disabled","click"],["type","button","class","btn btn-secondary pull-right ml-1",3,"disabled","click",4,"ngIf"],[1,"col-xs-6","col-md-4"],["type","text","name","startDate","bsDatepicker","","autocomplete","off","onkeydown","return false",1,"form-control",3,"ngModel","placeholder","bsConfig","isDisabled","required","ngModelChange","bsValueChange"],["startDate","ngModel"],["type","text","name","endDate","bsDatepicker","","onkeydown","return false","autocomplete","off",1,"form-control",3,"ngModel","placeholder","bsConfig","isDisabled","required","minDate","ngModelChange"],["endDate","ngModel"],["type","text","name","selectedEmployee",1,"form-control",3,"placeholder","ngModel","ngClass","readonly","required","ngModelChange"],["selectedEmployee","ngModel"],[1,"col-sm-2"],[1,"col-md-12"],["type","button","id","reset",1,"btn","btn-secondary","float-right","m-1",3,"disabled","click"],["type","submit","class","btn btn-primary float-right m-1","id","add",3,"disabled",4,"ngIf"],["type","submit","class","btn btn-primary float-right m-1","id","update",3,"disabled",4,"ngIf"],["bdColor","rgba(51, 51, 51, 0.8)","size","default","type","ball-spin-clockwise"],[2,"color","white"],[1,"error"],[4,"ngIf"],[3,"hidden"],["type","button",1,"btn","btn-secondary","pull-right","ml-1",3,"disabled","click"],["type","submit","id","add",1,"btn","btn-primary","float-right","m-1",3,"disabled"],["type","submit","id","update",1,"btn","btn-primary","float-right","m-1",3,"disabled"]],template:function(e,t){if(1&e){var a=d.Ub();d.Tb(0,"div",0),d.Tb(1,"form",1,2),d.bc("ngSubmit",(function(){return d.uc(a),d.sc(2).form.valid&&t.onSubmit()})),d.Tb(3,"div",3),d.Tb(4,"label",4),d.Cc(5),d.ec(6,"translate"),d.Sb(),d.Tb(7,"div",5),d.Tb(8,"input",6,7),d.bc("ngModelChange",(function(e){return t.taskModal.selectedProject.project=e})),d.ec(10,"translate"),d.Sb(),d.Ac(11,v,2,1,"div",8),d.Sb(),d.Tb(12,"div",9),d.Tb(13,"button",10),d.bc("click",(function(){return t.searchProject()})),d.Cc(14),d.ec(15,"translate"),d.Sb(),d.Sb(),d.Sb(),d.Tb(16,"div",3),d.Tb(17,"label",11),d.Cc(18),d.ec(19,"translate"),d.Sb(),d.Tb(20,"div",12),d.Tb(21,"input",13,14),d.bc("ngModelChange",(function(e){return t.taskModal.task=e})),d.Sb(),d.Ac(23,T,4,2,"div",8),d.Sb(),d.Sb(),d.Tb(24,"div",3),d.Pb(25,"label",15),d.Tb(26,"div",16),d.Tb(27,"label"),d.Tb(28,"input",17),d.bc("ngModelChange",(function(e){return t.taskModal.setParent=e})),d.Sb(),d.Cc(29),d.ec(30,"translate"),d.Sb(),d.Sb(),d.Sb(),d.Tb(31,"div",3),d.Tb(32,"label",18),d.Cc(33),d.ec(34,"translate"),d.Sb(),d.Tb(35,"div",19),d.Tb(36,"input",20),d.bc("ngModelChange",(function(e){return t.taskModal.priority=e})),d.Sb(),d.Sb(),d.Tb(37,"div",21),d.Cc(38),d.Sb(),d.Sb(),d.Tb(39,"div",3),d.Tb(40,"label",22),d.Cc(41),d.ec(42,"translate"),d.Sb(),d.Tb(43,"div",23),d.Tb(44,"input",24,25),d.bc("ngModelChange",(function(e){return t.taskModal.selectedParentTask.parentTask=e})),d.ec(46,"translate"),d.Sb(),d.Ac(47,M,2,1,"div",8),d.Sb(),d.Tb(48,"div",26),d.Tb(49,"div",27),d.Tb(50,"button",28),d.bc("click",(function(){return t.searchParentTask()})),d.Cc(51),d.ec(52,"translate"),d.Sb(),d.Ac(53,y,3,4,"button",29),d.Sb(),d.Sb(),d.Sb(),d.Tb(54,"div",3),d.Tb(55,"label",15),d.Cc(56),d.ec(57,"translate"),d.Sb(),d.Tb(58,"div",30),d.Tb(59,"input",31,32),d.bc("ngModelChange",(function(e){return t.taskModal.startDate=e}))("bsValueChange",(function(e){return t.changeStartDate(e,"startDate")})),d.ec(61,"translate"),d.Sb(),d.Ac(62,C,2,1,"div",8),d.Sb(),d.Tb(63,"label",15),d.Cc(64),d.ec(65,"translate"),d.Sb(),d.Tb(66,"div",30),d.Tb(67,"input",33,34),d.bc("ngModelChange",(function(e){return t.taskModal.endDate=e})),d.ec(69,"translate"),d.Sb(),d.Ac(70,B,2,1,"div",8),d.Sb(),d.Sb(),d.Tb(71,"div",3),d.Tb(72,"label",4),d.Cc(73),d.ec(74,"translate"),d.Sb(),d.Tb(75,"div",5),d.Tb(76,"input",35,36),d.bc("ngModelChange",(function(e){return t.taskModal.selectedEmployee.firstName=e})),d.ec(78,"translate"),d.Sb(),d.Ac(79,w,2,1,"div",8),d.Sb(),d.Tb(80,"div",37),d.Tb(81,"button",10),d.bc("click",(function(){return t.searchEmployee()})),d.Cc(82),d.ec(83,"translate"),d.Sb(),d.Sb(),d.Sb(),d.Tb(84,"div",3),d.Tb(85,"div",38),d.Tb(86,"button",39),d.bc("click",(function(){return t.reset()})),d.Cc(87),d.ec(88,"translate"),d.Sb(),d.Ac(89,E,3,4,"button",40),d.Ac(90,D,3,4,"button",41),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(91,"ngx-spinner",42),d.Tb(92,"p",43),d.Cc(93,"Please Wait. "),d.Sb(),d.Sb()}if(2&e){var n=d.sc(2),s=d.sc(9),c=d.sc(22),r=d.sc(45),l=d.sc(60),i=d.sc(68),o=d.sc(77);d.Bb(5),d.Ec("",d.fc(6,60,"lblProject"),":"),d.Bb(3),d.kc("placeholder",d.fc(10,62,"lblSearchProject")),d.jc("ngModel",t.taskModal.selectedProject.project)("ngClass",d.nc(94,O,n.submitted&&s.invalid))("readonly",!0)("required",!t.taskModal.setParent),d.Bb(3),d.jc("ngIf",n.submitted&&s.invalid),d.Bb(2),d.jc("disabled",t.taskModal.setParent||(null==t.taskModal?null:t.taskModal.taskId)),d.Bb(1),d.Dc(d.fc(15,64,"btnSearch")),d.Bb(4),d.Ec("",d.fc(19,66,"lblTask"),":"),d.Bb(3),d.jc("ngModel",t.taskModal.task)("ngClass",d.nc(96,O,n.submitted&&c.invalid))("required",!0),d.Bb(2),d.jc("ngIf",n.submitted&&c.invalid),d.Bb(5),d.jc("disabled",(null==t.taskModal||null==t.taskModal.selectedParentTask?null:t.taskModal.selectedParentTask.parentId)||(null==t.taskModal?null:t.taskModal.taskId))("ngModel",t.taskModal.setParent),d.Bb(1),d.Ec(" ",d.fc(30,68,"lblParentTask"),""),d.Bb(4),d.Ec("",d.fc(34,70,"btnPriority"),":"),d.Bb(3),d.jc("ngModel",t.taskModal.priority)("value",t.taskModal.priority)("min",0)("max",30),d.Bb(2),d.Ec(" ",t.taskModal.priority," "),d.Bb(3),d.Ec("",d.fc(42,72,"lblParentTask"),":"),d.Bb(3),d.kc("placeholder",d.fc(46,74,"lblSearchParentTask")),d.jc("ngModel",t.taskModal.selectedParentTask.parentTask)("ngClass",d.nc(98,O,n.submitted&&r.invalid))("readonly",!0),d.Bb(3),d.jc("ngIf",n.submitted&&r.invalid),d.Bb(3),d.jc("disabled",t.taskModal.setParent||0==t.taskModal.status),d.Bb(1),d.Ec("",d.fc(52,76,"btnSearch")," "),d.Bb(2),d.jc("ngIf",null==t.taskModal||null==t.taskModal.selectedParentTask?null:t.taskModal.selectedParentTask.parentId),d.Bb(3),d.Ec("",d.fc(57,78,"btnStartDate"),":"),d.Bb(3),d.kc("placeholder",d.fc(61,80,"lblStartDate")),d.jc("ngModel",t.taskModal.startDate)("bsConfig",d.mc(100,U))("isDisabled",t.taskModal.setParent)("required",!t.taskModal.setParent),d.Bb(3),d.jc("ngIf",n.submitted&&l.invalid),d.Bb(2),d.Ec("",d.fc(65,82,"btnEndDate"),":"),d.Bb(3),d.kc("placeholder",d.fc(69,84,"lblEndDate")),d.jc("ngModel",t.taskModal.endDate)("bsConfig",d.mc(101,U))("isDisabled",t.taskModal.setParent)("required",!t.taskModal.setParent)("minDate",t.taskModal.startDate),d.Bb(3),d.jc("ngIf",n.submitted&&i.invalid),d.Bb(3),d.Ec("",d.fc(74,86,"lblUser"),":"),d.Bb(3),d.kc("placeholder",d.fc(78,88,"lblSearchUser")),d.jc("ngModel",t.taskModal.selectedEmployee.firstName)("ngClass",d.nc(102,O,n.submitted&&o.invalid))("readonly",!0)("required",!t.taskModal.setParent),d.Bb(3),d.jc("ngIf",n.submitted&&o.invalid),d.Bb(2),d.jc("disabled",t.taskModal.setParent||(null==t.taskModal?null:t.taskModal.taskId)),d.Bb(1),d.Ec("",d.fc(83,90,"btnSearch")," "),d.Bb(4),d.jc("disabled",0==t.taskModal.status),d.Bb(1),d.Dc(d.fc(88,92,"btnReset")),d.Bb(2),d.jc("ngIf",null==(null==t.taskModal?null:t.taskModal.taskId)),d.Bb(1),d.jc("ngIf",null!=(null==t.taskModal?null:t.taskModal.taskId))}},directives:[s.p,s.i,s.j,s.b,s.h,s.k,n.j,s.o,n.l,s.e,s.d,s.a,s.m,h.b,h.a,k.a],pipes:[b.c],styles:[""]}),A),R=[{path:"",component:_},{path:":taskId",component:_}],F=((q=function e(){_classCallCheck(this,e)}).\u0275mod=d.Mb({type:q}),q.\u0275inj=d.Lb({factory:function(e){return new(e||q)},imports:[[c.e.forChild(R)],c.e]}),q),N=a("K3ix"),Y=a("PCNd"),L=((x=function e(){_classCallCheck(this,e)}).\u0275mod=d.Mb({type:x}),x.\u0275inj=d.Lb({factory:function(e){return new(e||x)},imports:[[n.c,N.c.forRoot(),k.b,Y.a,s.c,b.b,F,h.c.forRoot()]]}),x)}}]);